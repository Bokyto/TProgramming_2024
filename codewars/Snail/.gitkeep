def snail(snail_map):
    rez = []
    if not snail_map or not snail_map[0]: 
         return rez
    while snail_map:
        rez += snail_map.pop(0)
        if snail_map and snail_map[0]:
            for row in snail_map:
                rez.append(row.pop())
        if snail_map:
            rez += snail_map.pop()[::-1]
        if snail_map and snail_map[0]:
            for row in snail_map[::-1]:
                rez.append(row.pop(0))
    return rez
